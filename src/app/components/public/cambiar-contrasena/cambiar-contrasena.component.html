<ngx-spinner bdColor="rgba(0, 0, 0, 0.65)" size="medium" color="#fff" type="ball-clip-rotate"></ngx-spinner>
<div id="contentFormChangePassword" class="row justify-content-center mt-3 animated fadeIn">
    <div class="col-12">
        <h2 class="text-uppercase text-center">Cambiar contraseña <small class="d-block text-muted">Modulo de cambio de
        contraseña</small></h2>
        <hr>
    </div>
    <div class="col-12 col-md-8 col-lg-6">
        <form (ngSubmit)="changePasswords(forma)" #forma="ngForm" novalidate>

            <div class="alert alert-danger alert" *ngIf="error.length > 0">
                <label><b>Corrige los errores:</b></label>
                <ul>
                    <div *ngFor="let error of error">
                        <li *ngIf="error.errores.length>0">
                            <p>{{error.errores[0].ErrorMessage}}</p>
                        </li>
                    </div>
                </ul>
            </div>

            <div class="form-group">
                <label for="actualPassword">
          Contraseña actual</label>

                <input type="password" class="form-control" id="actualPassword" name="actualPassword" required [minlength]="6" [ngClass]="{'is-invalid ': (forma.submitted || actualPassword.touched) && (actualPassword.errors?.required || actualPassword.errors?.minlength) }"
                    [(ngModel)]="buildObject.actualPassword" placeholder="Contraseña actual" #actualPassword="ngModel">
                <div class="invalid-feedback" *ngIf="actualPassword.errors?.minlength">
                    Mínimo {{actualPassword.errors?.minlength.requiredLength}} caracteres
                </div>
            </div>
            <div class="form-group">
                <label for="newPassword">Nueva contraseña</label>
                <input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="Nueva contraseña" [ngClass]="{'is-invalid ': (forma.submitted || newPassword.touched) && (newPassword.errors?.required || newPassword.errors?.minlength) }" required
                    [minlength]="6" [(ngModel)]="buildObject.newPassword" #newPassword>
                <div class="invalid-feedback" *ngIf="newPassword.errors?.minlength">
                    Mínimo {{newPassword.errors?.minlength.requiredLength}}
                </div>
            </div>
            <div class="form-group">
                <label for="confirmPassword">Confirmar contraseña</label>
                <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required [minlength]="6" [ngClass]="{'is-invalid ': (forma.submitted || confirmPassword.touched) && (confirmPassword.errors?.required || confirmPassword.errors?.minlength) }"
                    placeholder="Confirmar contraseña" [(ngModel)]="buildObject.confirmPassword" #confirmPassword>
                <div class="invalid-feedback" *ngIf="confirmPassword.errors?.minlength">
                    Mínimo {{confirmPassword.errors?.minlength.requiredLength}}
                </div>
            </div>

            <p class="alert alert-danger" *ngIf="buildObject.newPassword != buildObject.confirmPassword && (buildObject.confirmPassword != null) ">Las contraseñas no coinciden</p>

            <div class="row justify-content-center  ">
                <button class="btn btn-light mr-1" type="button" [routerLink]="[ '/dashboard']">Cancelar</button>
                <button type="submit" class="btn btn-success ">Cambiar contraseña</button>
            </div>

        </form>
    </div>
</div>